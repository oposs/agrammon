*** general ***

author   = Agrammon Group
date     = 2008-02-19
taxonomy = Livestock::OtherCattle::Housing::Type

+short

 Selects the emission rate and other correction factors for the specific housing types for cattle.

+description

 This process selects the correction factor for the specific housing types for cattle. Among these correction factors are the emission rate for the housing type, the correction factor for the housing type area, the correction factor for the area per animal, the liquid and solid share for the housing type as well as the factor on what barn size increases the regularized minimal (limited to 0.5).

*** input ***

+housing_type
  type  = enum
  ++enum
    +++Tied_Housing_Slurry
       en = tied_housing_slurry
       de = Anbindestall_mit_Produktion_von_Vollgülle
       fr = Stabulation_entravée_avec_production_de_lisier_complet
       it = Tied_Housing_Slurry
    +++Tied_Housing_Slurry_Plus_Solid_Manure
       en = tied_housing_slurry_plus_solid_manure
       de = Anbindestall_mit_Produktion_von_Gülle_und_Mist
       fr = Stabulation_entravée_avec_production_de_lisier_et_de_fumier
       it = Tied_Housing_Slurry_Plus_Solid_Manure
    +++Loose_Housing_Slurry
       en = loose_housing_slurry
       de = Laufstall_mit_Produktion_von_Vollgülle
       fr = Stabulation_libre_avec_production_de_lisier_complet
       it = Loose_Housing_Slurry
    +++Loose_Housing_Slurry_Plus_Solid_Manure
       en = loose_housing_slurry_plus_solid_manure
       de = Laufstall_mit_Produktion_von_Gülle_und_Mist
       fr = Stabulation_libre_avec_production_de_lisier_et_de_fumier
       it = Loose_Housing_Slurry_Plus_Solid_Manure
    +++Loose_Housing_Deep_Litter
       en = loose_housing_deep_litter
       de = Laufstall_mit_Tiefstreu_oder_Tretmist
       fr = Stabulation_libre_avec_litière_profonde_ou_litière_sur_plan_incliné
       it = Loose_Housing_Deep_Litter
  ++labels 
    en = Housing system
    de = Aufstallung
    fr = Type de stabulation
  ++units  
    en = -
  ++description
    Type of housing.
  ++help
    +++en
       <p></p>
    +++de 	
	<dl>
		<dt>Laufstall mit Produktion von Vollgülle:</dt>
	 	<dd>Mehrraum-Laufstall, Liegefläche</dd>
		<dd>Einraum-Laufstall mit perforiertem Boden</dd>
		<dt>Laufstall mit Produktion von Gülle und Mist:</dt>
		<dd>Mehrraum-Laufstall, Liegefläche mit Liegeboxen (Gülle und bedeutende Mengen Mist)</dd>
		<dd>Mehrraum-Laufstall, Liegefläche als Tiefstreu/Tretmist</dd>
		<dt>Laufstall mit Tiefstreu/Tretmist:</dt>
		<dd>Einraum-Laufstall mit Tiefstreu/Tretmist (ausschliesslich Mist)</dd>
	</dl>
	<p/>
       <p>Vorschlag für Standardwerte</p>
       <p>Im Jahr 2010 war der Anteil der Aufstallungssysteme wie folgt:</p>
       <table border="1" style='font-family: Tahoma,"Liberation Sans",Arial; font-size: 8pt'> 
	 <tr>
           <td>&#160;</td>
	   <td align="center" >
	      Anbindestall mit  <br/> Produktion von <br/> Vollgülle
	   </td>
	   <td align="center" >
	      Anbindestall mit <br/> Produktion von <br/> Gülle und Mist
	   </td>
           <td align="center" >
              Laufstall mit <br/> Produktion von  <br/> Vollgülle
           </td>
           <td align="center" >
              Laufstall mit <br/> Produktion von  <br/>Gülle und Mist
           </td>
           <td align="center" >
              Laufstall mit <br/> Tiefstreu / <br/>Tretmist
           </td>
	 </tr>
	 <tr>
	  <td>&#160; </td>
          <td  align="center" colspan="5">
    	     Stallsysteme in % des Bestandes
          </td>
         </tr>
         <tr>
	  <td align="left" valign="top" cellspacing="0">
 	     Mutterkühe
          </td>
          <td align="center" >  3 </td>
          <td align="center" > 12 </td>
          <td align="center" > 23 </td>
          <td align="center" > 55 </td>
          <td align="center" >  7 </td>
         </tr>
         <tr>
	  <td align="left" valign="top" cellspacing="0">
             Aufzuchtrinder  <br/> unter 1-jährig *
          </td>
          <td align="center" >  1 </td>
          <td align="center" > 25 </td>
          <td align="center" > 12 </td>
          <td align="center" > 42 </td>
          <td align="center" > 20 </td>
         </tr>
         <tr>
	  <td align="left" valign="top" cellspacing="0">
		       Aufzuchtrinder  <br/> 1- bis 2-jährig
          </td>
          <td align="center" >  4 </td>
          <td align="center" > 28 </td>
          <td align="center" > 19 </td>
          <td align="center" > 39 </td>
          <td align="center" > 10 </td>
         </tr>
         <tr>
	  <td align="left" valign="top" cellspacing="0">
		       Aufzuchtrinder  <br/> über 2-jährig
          </td>
          <td align="center" > 6 </td>
          <td align="center" > 29 </td>
          <td align="center" > 23 </td>
          <td align="center" > 36 </td>
          <td align="center" > 6 </td>
         </tr>
         <tr>
	  <td align="left" valign="top" cellspacing="0">
            Mastkälber
          </td>
          <td align="center" >  0 </td>
          <td align="center" >  0 </td>
          <td align="center" >  1 </td>
          <td align="center" > 32 </td>
          <td align="center" > 67 </td>
         </tr>
         <tr>
	  <td align="left" valign="top" cellspacing="0">
		       Mutterkuhkälber
          </td>
          <td align="center" >   - </td>
          <td align="center" >   - </td>
          <td align="center" >   6 </td>
          <td align="center" >  78 </td>
          <td align="center" >  16 </td>
         </tr>
         <tr>
	  <td align="left" valign="top" cellspacing="0">
		       Masttiere  <br/> Rindviehmast
          </td>
          <td align="center" >  3 </td>
          <td align="center" >  5 </td>
          <td align="center" > 16 </td>
          <td align="center" > 64 </td>
          <td align="center" > 12 </td>
         </tr>
        </table>
        <p> * Kälber bis zum Alter von vier Monaten dürfen gemäss Tierschutzverordnung nicht angebunden gehalten werden.</p>
    +++fr
       <p>Proposition de valeurs standard</p>
       <p>En 2007, les différents systèmes de stabulation se répartissaient de la manière suivante:</p>
       <table border="1" style='font-family: Tahoma,"Liberation Sans",Arial; font-size: 8pt'> 
	 <tr>
           <td>&#160;</td>
	   <td align="center" >
	      Stabulation  <br/> entravée avec  <br/> production de <br/>lisier complet  
	   </td>
	   <td align="center" >
	      Stabulation <br/> entravée avec <br/> production de <br/> lisier et fumier
	   </td>
           <td align="center" >
              Stabulation libre  <br/> avec production  <br/> de lisier complet
           </td>
           <td align="center" >
              Stabulation libre <br/> avec production <br/>de lisier et <br/>fumier
           </td>
           <td align="center" >
             Stabulation à  <br/>litière profonde  <br/>ou litière sur <br/>plan incliné 
           </td>
	 </tr>
	 <tr>
	  <td>&#160; </td>
          <td  align="center" colspan="5">
    	     Systèmes de stabulation en % du cheptel 
          </td>
         </tr>
         <tr>
	  <td align="left" valign="top" cellspacing="0">
 	     Vâches <br/> allaitantes
          </td>
          <td align="center" >  - </td>
          <td align="center" > 10 </td>
          <td align="center" > 15 </td>
          <td align="center" > 75 </td>
          <td align="center" >  - </td>
         </tr>
         <tr>
	  <td align="left" valign="top" cellspacing="0">
             Remontes de   <br/> moins d'un an*
          </td>
          <td align="center" >  - </td>
          <td align="center" > 30 </td>
          <td align="center" > 10 </td>
          <td align="center" > 35 </td>
          <td align="center" > 25 </td>
         </tr>
         <tr>
	  <td align="left" valign="top" cellspacing="0">
	     Remontes <br/> âgées entre 1 et <br/> 2 ans
          </td>
          <td align="center" >  - </td>
          <td align="center" > 40 </td>
          <td align="center" > 15 </td>
          <td align="center" > 35 </td>
          <td align="center" > 10 </td>
         </tr>
         <tr>
	  <td align="left" valign="top" cellspacing="0">
	     Remontes <br/> âgées des plus <br/> de 2 ans
          </td>
          <td align="center" > 10 </td>
          <td align="center" > 40 </td>
          <td align="center" > 20 </td>
          <td align="center" > 30 </td>
          <td align="center" >  - </td>
         </tr>
         <tr>
	  <td align="left" valign="top" cellspacing="0">
            Veaux à <br/> l'engrais
          </td>
          <td align="center" >  - </td>
          <td align="center" >  - </td>
          <td align="center" > 15 </td>
          <td align="center" > 35 </td>
          <td align="center" > 50 </td>
         </tr>
         <tr>
	  <td align="left" valign="top" cellspacing="0">
	    Veaux de <br/> vâches <br/> allaitantes
          </td>
          <td align="center" >  - </td>
          <td align="center" >  - </td>
          <td align="center" >  - </td>
          <td align="center" > 50 </td>
          <td align="center" > 50 </td>
         </tr>
         <tr>
	  <td align="left" valign="top" cellspacing="0">
	    Bovins à <br/> l'engrais
          </td>
          <td align="center" >  - </td>
          <td align="center" >  5 </td>
          <td align="center" > 15 </td>
          <td align="center" > 70 </td>
          <td align="center" > 10 </td>
         </tr>
        </table>
        <p> * Les veaux jusqu'à l'âge de 4 mois ne doivent pas être détenus à l'attache, selon l'Ord. sur la protection des animaux. </p>


+dimensioning_barn
  type = integer
  adjustBranching = true
  ++labels 
    en = Number of available animal places
    de = Anzahl Tierplätze im Stall
    fr = Nombre de places dans l'étable
  ++units 
    en = -
  ++description
    Number of available animal places.
  ++help
    +++en
       <p>For loose housing systems: all animal places accessible for the animals must be entered. The number of animal places is higher than the stocking rate if reserve capacities are available, e.g. for a future increase of the herd size</p>
    +++de
       <p>Für Laufställe: es sind sämtliche Tierplätze anzugeben, welche für die Tiere zugänglich sind. Die Anzahl Tierplätze im Stall ist grösser als der Bestand, wenn etwa im Hinblick auf eine zukünftige Vergrösserung des Betriebs zusätzliche Tierplätze vorhanden sind. Mehr Tierplätze als Tiere bedeuten für Laufställe eine Erhöhung der verschmutzten Fläche pro Tier. Im Gegensatz dazu führen mehr Tierplätze als Tiere bei Anbindeställen kaum zu einer Erhöhung der verschmutzten Fläche pro Tier, da die freien Tierplätze für die Tiere nicht zugänglich sind.</p>
       <p>Vorschlag für Standardwert: gleiche Anzahl Tierplätze wie Tierzahl</p>
    +++fr
       <p>Pour les stabulations libres: mentionner toutes les places accessibles aux animaux. Le nombre de places dans l'étable peut être supérieur au cheptel actuel, dans la perspective d'un agrandissement futur de l'exploitation p.ex. Dans les stabulations libres, un nombre de places supérieur au nombre d'animaux signifie une augmentation de la surface souillée par animal. Au contraire, dans les stabulations entravées, un nombre de places supérieur au nombre d'animaux ne conduit pas à une augmentation de la surface souillée par animal, vu que ces places libres ne sont pas accessibles aux animaux. </p>
       <p>Proposition de valeur standard: nombre de places identique au nombre d'animaux</p>


+feeding_boxes
  models = LU
  type = enum
  default_calc = no
  ++enum
    +++yes
       en = yes
       de = Ja
       fr = oui
       it = yes
    +++no
       en = no
       de = Nein
       fr = non
       it = no
  ++labels 
    en = Are feeding boxes available?
    de = Sind Fütterungsbuchten vorhanden?
    fr = Sont des boxes d'alimentation existant?
  ++units 
    en = -
  ++description
    Are feeding boxes available?
  ++help
    +++en 
       <p></p>
    +++de 
       <p></p>
    +++fr 
       <p></p>


*** technical ***

+red_feeding_boxes
  value = 0.1
  ++units
    en = -
  ++description
    Reduction efficiency for LU Model version (Workshop SHL Zollikofen, 08.02.2010)


*** external ***

+..::Excretion
+Type::Tied_Housing_Slurry
+Type::Tied_Housing_Slurry_Plus_Solid_Manure
+Type::Loose_Housing_Slurry
+Type::Loose_Housing_Slurry_Plus_Solid_Manure
+Type::Loose_Housing_Deep_Litter

*** output ***

+er_housing
  print = 10
  ++units 
    en = -
  ++description
    Emission rate for the housing type.
  ++formula
#    Val(er_housing, 'Type::' . In(housing_type) );
#	given (In(housing_type)) {
#	    when ('Tied_Housing_Slurry')                    { return Val(er_housing,Type::Tied_Housing_Slurry); }
#	    when ('Tied_Housing_Slurry_Plus_Solid_Manure')  { return Val(er_housing,Type::Tied_Housing_Slurry_Plus_Solid_Manure); }
#	    when ('Loose_Housing_Slurry')                   { return Val(er_housing,Type::Loose_Housing_Slurry); }
#	    when ('Loose_Housing_Slurry_Plus_Solid_Manure') { return Val(er_housing,Type::Loose_Housing_Slurry_Plus_Solid_Manure); }
#	    when ('Loose_Housing_Deep_Litter)               { return Val(er_housing,Type::Loose_Housing_Deep_Litter); }
#	}
       if ( In(housing_type) eq 'Tied_Housing_Slurry' ) {
 	   return Val(er_housing,Type::Tied_Housing_Slurry);
       }
       elsif ( In(housing_type) eq 'Tied_Housing_Slurry_Plus_Solid_Manure')  {
           return Val(er_housing,Type::Tied_Housing_Slurry_Plus_Solid_Manure); 
       }
       elsif ( In(housing_type) eq 'Loose_Housing_Slurry') { 
           return Val(er_housing,Type::Loose_Housing_Slurry); 
       }
       elsif ( In(housing_type) eq 'Loose_Housing_Slurry_Plus_Solid_Manure') { 
           return Val(er_housing,Type::Loose_Housing_Slurry_Plus_Solid_Manure); 
       }
       elsif ( In(housing_type) eq 'Loose_Housing_Deep_Litter') { 
           return Val(er_housing,Type::Loose_Housing_Deep_Litter); 
       }

+share_liquid
  print = 10
  ++units 
    en = -
  ++description
    Liquid share for the housing type.
  ++formula
#    Val(share_liquid, 'Type::' . In(housing_type));
#	given (In(housing_type)) {
#	    when ('Tied_Housing_Slurry')                    { return Val(share_liquid,Type::Tied_Housing_Slurry); }
#	    when ('Tied_Housing_Slurry_Plus_Solid_Manure')  { return Val(share_liquid,Type::Tied_Housing_Slurry_Plus_Solid_Manure); }
#	    when ('Loose_Housing_Slurry')                   { return Val(share_liquid,Type::Loose_Housing_Slurry); }
#	    when ('Loose_Housing_Slurry_Plus_Solid_Manure') { return Val(share_liquid,Type::Loose_Housing_Slurry_Plus_Solid_Manure); }
#	    when ('Loose_Housing_Deep_Litter)               { return Val(share_liquid,Type::Loose_Housing_Deep_Litter); }
#	}
       if ( In(housing_type) eq 'Tied_Housing_Slurry' ) {
 	   return Val(share_liquid,Type::Tied_Housing_Slurry);
       }
       elsif ( In(housing_type) eq 'Tied_Housing_Slurry_Plus_Solid_Manure')  {
           return Val(share_liquid,Type::Tied_Housing_Slurry_Plus_Solid_Manure); 
       }
       elsif ( In(housing_type) eq 'Loose_Housing_Slurry') { 
           return Val(share_liquid,Type::Loose_Housing_Slurry); 
       }
       elsif ( In(housing_type) eq 'Loose_Housing_Slurry_Plus_Solid_Manure') { 
           return Val(share_liquid,Type::Loose_Housing_Slurry_Plus_Solid_Manure); 
       }
       elsif ( In(housing_type) eq 'Loose_Housing_Deep_Litter') { 
           return Val(share_liquid,Type::Loose_Housing_Deep_Litter); 
       }

+share_solid
  print = 10
  ++units 
    en = -
  ++description
    Solid share for the housing type.
  ++formula
#    Val(share_solid, 'Type::' . In(housing_type));
#	given (In(housing_type)) {
#	    when ('Tied_Housing_Slurry')                    { return Val(share_solid,Type::Tied_Housing_Slurry); }
#	    when ('Tied_Housing_Slurry_Plus_Solid_Manure')  { return Val(share_solid,Type::Tied_Housing_Slurry_Plus_Solid_Manure); }
#	    when ('Loose_Housing_Slurry')                   { return Val(share_solid,Type::Loose_Housing_Slurry); }
#	    when ('Loose_Housing_Slurry_Plus_Solid_Manure') { return Val(share_solid,Type::Loose_Housing_Slurry_Plus_Solid_Manure); }
#	    when ('Loose_Housing_Deep_Litter)               { return Val(share_solid,Type::Loose_Housing_Deep_Litter); }
#	}
       if ( In(housing_type) eq 'Tied_Housing_Slurry' ) {
 	   return Val(share_solid,Type::Tied_Housing_Slurry);
       }
       elsif ( In(housing_type) eq 'Tied_Housing_Slurry_Plus_Solid_Manure')  {
           return Val(share_solid,Type::Tied_Housing_Slurry_Plus_Solid_Manure); 
       }
       elsif ( In(housing_type) eq 'Loose_Housing_Slurry') { 
           return Val(share_solid,Type::Loose_Housing_Slurry); 
       }
       elsif ( In(housing_type) eq 'Loose_Housing_Slurry_Plus_Solid_Manure') { 
           return Val(share_solid,Type::Loose_Housing_Slurry_Plus_Solid_Manure); 
       }
       elsif ( In(housing_type) eq 'Loose_Housing_Deep_Litter') { 
           return Val(share_solid,Type::Loose_Housing_Deep_Litter); 
       }

+k_area_type
  print = 25
  ++units 
    en = -
  ++description
    Correction factor for the housing type area.
  ++formula
#     Val(k_area, 'Type::' . In(housing_type));
#	given (In(housing_type)) {
#	    when ('Tied_Housing_Slurry')                    { return Val(k_area,Type::Tied_Housing_Slurry); }
#	    when ('Tied_Housing_Slurry_Plus_Solid_Manure')  { return Val(k_area,Type::Tied_Housing_Slurry_Plus_Solid_Manure); }
#	    when ('Loose_Housing_Slurry')                   { return Val(k_area,Type::Loose_Housing_Slurry); }
#	    when ('Loose_Housing_Slurry_Plus_Solid_Manure') { return Val(k_area,Type::Loose_Housing_Slurry_Plus_Solid_Manure); }
#	    when ('Loose_Housing_Deep_Litter)               { return Val(k_area,Type::Loose_Housing_Deep_Litter); }
#	}
       if ( In(housing_type) eq 'Tied_Housing_Slurry' ) {
 	   return Val(k_area,Type::Tied_Housing_Slurry);
       }
       elsif ( In(housing_type) eq 'Tied_Housing_Slurry_Plus_Solid_Manure')  {
           return Val(k_area,Type::Tied_Housing_Slurry_Plus_Solid_Manure); 
       }
       elsif ( In(housing_type) eq 'Loose_Housing_Slurry') { 
           return Val(k_area,Type::Loose_Housing_Slurry); 
       }
       elsif ( In(housing_type) eq 'Loose_Housing_Slurry_Plus_Solid_Manure') { 
           return Val(k_area,Type::Loose_Housing_Slurry_Plus_Solid_Manure); 
       }
       elsif ( In(housing_type) eq 'Loose_Housing_Deep_Litter') { 
           return Val(k_area,Type::Loose_Housing_Deep_Litter); 
       }

+area_increase
  print = 15
  ++units 
    en = -
  ++description
    Factor on what barn size does increase the regularized minimal, limited to 0.5
  ++formula 
    if( ( Val(animals, ..::Excretion) < In(dimensioning_barn)  ) and ( Val(animals, ..::Excretion) != 0 ) ){ 
    	 if( In(dimensioning_barn) >= (Val(animals, ..::Excretion) * 1.5) ){   
	     return 0.5; 
	 }
	 else { 
	     return( ( In(dimensioning_barn) / Val(animals, ..::Excretion) ) -1 );
        }  			
    }
    else {
	return 0.0;
    };

+k_area
  print = 15
  ++units 
    en = -
  ++description
    Correction factor for area per animal.
  ++formula
    1 + ( Out(area_increase) * Out(k_area_type) );

+housing_type
  print = 15
  ++units 
    en = -
  ++description
    Housing type (needed in other modules).
  ++formula
    In(housing_type);

+dimensioning_barn
  print = 15
  ++units 
    en = -
  ++description
    Number of anymal places (needed in other modules).
  ++formula
    In(dimensioning_barn);


+c_feeding_boxes
  print = 15
  ++units 
    en = -
  ++description
    Are feeding boxes available?
  ++formula
	 
    if( defined In(feeding_boxes)  and In(feeding_boxes) eq 'yes' ){ 
        if( (In(housing_type) eq 'Tied_Housing_Slurry') or (In(housing_type) eq 'Tied_Housing_Slurry_Plus_Solid_Manure')){
    	    writeLog({en=>"Feeding are applicable for loose housing systems only!",
              de=>"Fütterungsbuchten sind nur für Laufställe anwendbar!",
              fr=>"Feeding boxes sont éligible seulement pour les stabulations libre!"});
	    return 0;
       } 
       else{
        	return( Tech(red_feeding_boxes) );
       }
    }
    else {
	return 0;
    };

